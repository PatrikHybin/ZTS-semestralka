*** Settings ***
Documentation                                      This is a check box test
Library                                            SeleniumLibrary
Library     String
Library     Collections

*** Variables ***
${url}                                              https://www.alza.sk
${browser}                                          chrome
${search}       xpath=//*[@id="edtSearch"]
${btnSearch}    xpath=//*[@id="btnSearch"]
${orderByMin}       xpath=//*[@id="ui-id-6"]

${textAlza}     Alza
${checkBoxAlza}  //*[@id="producer-1835"]/div[1]/label
${textHP}     HP
${checkBoxHP}   //*[@id="producer-1287"]/div[1]/label
${textIntelCorei5}  Intel Core i5
${checkBoxIntelCorei5}  //*[@id="topped-value-170-576"]/div[1]/label
*** Test Cases ***
User selects checkbox by which it will filter his search option
    open browser                                    ${URL}    ${browser}
    maximize browser window
    Wait Until Element Is Visible                   ${search}
    input text                                      ${search}   pocitac
    click element                                   ${btnSearch}
    Wait Until Element Is Visible                   ${orderByMin}
    click element                                   ${checkBoxAlza}
    sleep  2s
    ${xpath}=   Set Variable   //*[@id="boxes"]/div/div[2]/div[1]/div/span[1]
    ${count}=  Get Element Count    ${xpath}
    FOR   ${index}     IN RANGE     ${count}
        ${text}=  Get Text  //*[@id="boxes"]/div[${index}+1]/div[1]/div[2]/a
        #${status}=	 Run Keyword And Return Status   Element Should Contain  //*[@id="boxes"]/div[${index}+1]/div[1]/div[2]/a  ${textAlza}
        ${status}=	 Run Keyword And Return Status   Should Contain  ${text}  ${textAlza}
        Run Keyword If
        ...    ${status}
        ...    Log to Console   \nNachadzaSaToTam
        ...    ELSE
        ...    Log To Console   FAIL Desired text wasnt found.

    END
    close browser

User selects checkboxs by which it will filter his search option from same category
    open browser                                    ${URL}    ${browser}
    maximize browser window
    Wait Until Element Is Visible                   ${search}
    input text                                      ${search}   pocitac
    click element                                   ${btnSearch}
    Wait Until Element Is Visible                   ${orderByMin}
    click element                                   ${checkBoxAlza}
    click element                                   ${checkBoxHP}
    sleep  2s
    ${xpath}=   Set Variable   //*[@id="boxes"]/div/div[2]/div[1]/div/span[1]
    ${count}=  Get Element Count    ${xpath}
    FOR   ${index}     IN RANGE     ${count}
        ${text}=  Get Text  //*[@id="boxes"]/div[${index}+1]/div[1]/div[2]/a
        #${status}=	 Run Keyword And Return Status   Element Should Contain  //*[@id="boxes"]/div[${index}+1]/div[1]/div[2]/a  ${textAlza}
        ${statusAlza}=	 Run Keyword And Return Status   Should Contain  ${text}  ${textAlza}
        ${statusHP}=    Run Keyword And Return Status   Should Contain   ${text}  ${textHP}
        Run Keyword If
        ...    ${statusAlza} or ${statusHP}
        ...    Log to Console   \nNachadzaSaToTam
        ...    ELSE
        ...    Log To Console   FAIL Desired text wasnt found.

    END
    close browser

User selects checkboxs by which it will filter his search option from different category
    open browser                                    ${URL}    ${browser}
    maximize browser window
    Wait Until Element Is Visible                   ${search}
    input text                                      ${search}   pocitac
    click element                                   ${btnSearch}
    Wait Until Element Is Visible                   ${orderByMin}
    click element                                   ${checkBoxHP}
    click element                                   ${checkBoxIntelCorei5}
    sleep  2s
    ${xpath}=   Set Variable   //*[@id="boxes"]/div/div[2]/div[1]/div/span[1]
    ${count}=  Get Element Count    ${xpath}
    FOR   ${index}     IN RANGE     ${count}
        ${text}=  Get Text  //*[@id="boxes"]/div[${index}+1]/div[1]/div[2]/a
        ${description}=  Get Text   //*[@id="boxes"]/div[${index}+1]/div[1]/div[2]/div[2]
        #${status}=	 Run Keyword And Return Status   Element Should Contain  //*[@id="boxes"]/div[${index}+1]/div[1]/div[2]/a  ${textAlza}
        ${statusHP}=	 Run Keyword And Return Status   Should Contain  ${text}  ${textHP}
        ${statusIntelCore}=    Run Keyword And Return Status   Should Contain  ${description}  ${textIntelCorei5}
        Run Keyword If
        ...    ${statusHP} or ${statusIntelCore}
        ...    Log to Console   \nNachadzaSaToTam
        ...    ELSE
        ...    Log To Console   FAIL Desired text wasnt found.

    END
    close browser

